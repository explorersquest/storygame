<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>FÃ¼r Luisa ðŸŒ¸</title>
<style>
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: 'Georgia', serif;
  color: #f5f5f5;
  background: radial-gradient(circle at top, #0a0a0a, #1a1a2e); 
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* GlÃ¼hender Titel */
h1 { 
  color: #ffd700; 
  text-shadow: 0 0 10px #ffd700, 0 0 20px #ffb347;
  font-size: 3em;
  margin-bottom: 50px;
  text-align: center;
}
h2 { 
  color: #ffd700; 
  text-shadow: 0 0 10px #ffd700, 0 0 20px #ffb347;
  font-size: 2.5em;
  margin-bottom: 16px;
  text-align: center;
}

/* HauptmenÃ¼ */
#mainMenu {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 25px;
}
#mainMenu button { 
  background: linear-gradient(145deg, #6655aa, #444477);
  border: none;
  padding: 20px 40px;
  border-radius: 15px;
  color: #ffd700;
  font-size: 22px;
  font-weight: bold;
  cursor: pointer;
  text-shadow: 0 0 5px #ffd700;
  transition: transform 0.15s, background 0.2s;
}
#mainMenu button:hover { 
  background: linear-gradient(145deg, #7777cc, #5555aa); 
  transform: scale(1.08);
}

/* Spielcontainer */
#gameContainer {
  flex: 1;
  display: none; /* wird erst sichtbar beim Spielstart */
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

/* Akt / Szene Label */
#sceneLabel {
  font-size: 24px;
  margin-bottom: 20px;
  color: #ffdd77;
  text-shadow: 0 0 5px #ffd700;
}

/* Textbox */
#sceneText {
  display: none; /* erst sichtbar, wenn Animation startet */
  margin: 20px auto; 
  max-width: 80%;
  padding: 30px; 
  background: rgba(30,30,50,0.85); 
  border-radius: 15px; 
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.3); 
  font-size: 20px; 
  min-height: 180px;
  white-space: pre-wrap;
}

/* Buttons nebeneinander unten */
#choices {
  display: flex;
  justify-content: center;
  margin-top: 30px;
  gap: 20px;
  visibility: hidden; /* erst nach Tippen sichtbar */
}
#choices button { 
  flex: 1 1 150px;
  max-width: 250px;
  padding: 15px 0;
  border-radius: 12px;
  background: #444477; 
  color: #ffd700; 
  font-weight: bold;
  font-size: 18px;
  border: none;
  cursor: pointer;
  transition: transform 0.1s, background 0.2s;
}
#choices button:hover { background:#6655aa; transform: scale(1.05); }

/* Sterne mit leichter Bewegung */
.star {
  position: absolute;
  width: 2px; 
  height: 2px; 
  background: white; 
  border-radius: 50%;
  opacity: 0.8;
  animation: twinkle 2s infinite alternate, floatStars 6s infinite alternate;
}
@keyframes twinkle { 0% {opacity:0.3;} 100% {opacity:1;} }
@keyframes floatStars {
  0% { transform: translate(0px,0px);}
  50% { transform: translate(1.5px, -1.5px);}
  100% { transform: translate(0px,0px);}
}
</style>
</head>
<body>

<h1>FÃ¼r Luisa ðŸŒ¸</h1>
<h2>Titel</h2>

<!-- HauptmenÃ¼ -->
<div id="mainMenu">
  <button id="newGameBtn">Neuer Spielstand</button>
  <button id="loadGameBtn">Spielstand laden</button>
</div>

<!-- Spielbereich -->
<div id="gameContainer">
  <div id="sceneLabel"></div>
  <div id="sceneText"></div>
  <div id="choices"></div>
</div>

<audio id="bgMusic" src="momedeiros88-mystical.mp3" type="audio/mpeg" loop></audio>

<script>
/********* STERNE GENERIEREN *********/
for(let i=0;i<80;i++){
  const star = document.createElement('div');
  star.className = 'star';
  star.style.top = Math.random()*100+'%';
  star.style.left = Math.random()*100+'%';
  star.style.width = star.style.height = (Math.random()*2+1)+'px';
  star.style.animationDuration = (Math.random()*2+1)+'s, '+(4+Math.random()*3)+'s';
  document.body.appendChild(star);
}

/********* STORY DATA *********/
const story = {
  "0_0": { label:"Akt 0, Szene 0", text:"Du hÃ¤lst inne. Vielleicht ist es besser so, du lÃ¤sst den BehÃ¤lter hier stehen. Vielleicht ist heute nicht der Tag fÃ¼r Geheimnisse. Der Fahrradkeller ist leer, es riecht nach Beton und kalter Luft. Du schlieÃŸt deine Jacke. Bis auf den BehÃ¤lter wirkt alles normal. Du schiebst dein Fahrrad hinaus. Die TÃ¼r fÃ¤llt hinter dir zu.  Der Abend empfÃ¤ngt dich als wÃ¤re nichts gewesen. Die StraÃŸen sind still. Und du fÃ¤hrst nach Hause...", choices:[{ text:"ZurÃ¼ck zum Anfang", next:"1_1" },{ text:"Spiel beenden", next:null}] },
  "1_1": { label:"Akt 1, Szene 1", text:"DER KELLER. Der letzte Schultag vor den Ferien hÃ¤tte leicht sein sollen. Aber irgendetwas hat den Tag in die LÃ¤nge gezogen. Stunden, die sich gezogen haben wie Kaugummi. Als du endlich aus dem Klassenzimmer trittst, ist es schon Abend. Du gehst die Treppen hinunter in den Fahrradkeller. Deine Schritte hallen. Du bist allein. Du willst einfach nur nach Hause. Doch dann hÃ¤lst du inne. In deinem Flaschenhalter steckt etwas, das dort nicht hingehÃ¶rt. Ein kleiner BehÃ¤lter aus durchsichtigem Material. Du bist dir sicher: Der war heute Morgen nicht da. Du gehst einen Schritt nÃ¤her. Dann noch einen. Der BehÃ¤lter leuchtet schwach, ein warmes, pulsierendes Schimmern, das sich gegen die kalte Kellerluft stemmt. FÃ¼r einen Moment hÃ¶rst du nur deinen eigenen Atem. Was tust du, Luisa?", choices:[{ text:"Ich lasse ihn in Ruhe.", next:"0_0" },{ text:"Ich schaue ihn mir genauer an.", next:"1_2" }] },
  "1_2": { label:"Akt 1, Szene 2", text:"DER BEHÃ„LTER. Du gehst nÃ¤her an dein Fahrrad heran. Der BehÃ¤lter sitzt fest im Flaschenhalter, als hÃ¤tte ihn jemand mit Absicht dort platziert. Aus der NÃ¤he wirkt er noch ungewÃ¶hnlicher: glatt, schwerer als Glas, aber ohne Kratzer, ohne Etikett, ohne jede Spur von Herkunft. Das Licht im Inneren pulsiert langsam. Warm. Ruhig. Fast wie ein Herzschlag. Du legst die Fingerspitzen an die OberflÃ¤che. Der BehÃ¤lter reagiert. Ein leiser Schimmer wandert unter deiner BerÃ¼hrung entlang, als wÃ¼rde er dich erkennen. FÃ¼r einen Moment wird der Keller heller. Dann wird es wieder still. Der BehÃ¤lter liegt schwer in deiner Hand. Und das Licht darin wartet. Was tust du, Luisa?", choices:[{ text:"Ich lege ihn zurÃ¼ck.", next:"0_0" },{ text:"Ich Ã¶ffne ihn.", next:"1_3" }] },
  "1_3": { label:"Akt 1, Szene 3", text:"DAS LICHT. Du Ã¶ffnest den BehÃ¤lter. Ein warmer Hauch entweicht. Du siehst hinein. Im Inneren des BehÃ¤lters liegt kein Gegenstand im klassischen Sinn. Es ist eher... ein Zustand. Ein Fragment aus Licht, das sich nicht an die Regeln der Welt hÃ¤lt. Es hat keine feste Form. Manchmal wirkt es wie ein kleiner Splitter, manchmal wie ein Tropfen, manchmal wie ein winziger Nebelwirbel aus Helligkeit. Es leuchtet nicht stark. Es glimmt. Warm. Ruhig. In einem Rhythmus. Wenn man genauer hinsieht, erkennt man feine Linien im Licht. Wie winzige Sternbahnen, die sich umeinander drehen. Nicht chaotisch, sondern harmonisch, wie ein kleines Universum im Glas. Das Licht ist nicht heiÃŸ. Es ist nicht kalt. Und manchmal, wenn man es aus dem Augenwinkel betrachtet, scheint es sich zu bewegen, als wÃ¼rde es auf etwas reagieren. Oder auf jemanden. Was tust du, Luisa?", choices:[{ text:"Ich schlieÃŸe den BehÃ¤lter wieder.", next:"0_0" },{ text:"Ich greife nach dem Licht.", next:"1_4" }] },
  "1_4": { label:"Akt 1, Szene 4", text:"DER ÃœBERGANG. Du hÃ¤lst den BehÃ¤lter in der Hand. Das Licht darin pulsiert. Du atmest ein. Du greifst nach dem Licht. FÃ¼r einen Augenblick spÃ¼rst du nichts. Nur WÃ¤rme. Nur Stille. Dann passiert alles gleichzeitig. Das Licht schieÃŸt nach oben, umhÃ¼llt deine Hand, zieht sich an dir fest wie ein Faden aus Energie - und die Welt unter deinen FÃ¼ÃŸen bricht weg. Der Fahrradkeller lÃ¶st sich auf. Die KÃ¤lte verschwindet. Die GerÃ¤usche verschwinden. Du wirst nicht gestoÃŸen, nicht gezogen - du wirst Ã¼bergeben. Du schwebst. Um dich herum Ã¶ffnet sich ein Raum aus Sternen. Langsam, weit, still. Als wÃ¼rdest du durch ein Universum gleiten, das gerade erst beschlossen hat, zu existieren. Vor dir entsteht ein Lichtpunkt. Er wÃ¤chst. Er wird zu einer Form. Zu einem HÃ¼gel. Gras, so grÃ¼n, dass es fast leuchtet. Ein Wind, den du nicht spÃ¼rst, bewegt die Halme. Auf dem HÃ¼gel steht ein Tisch. Zwei StÃ¼hle. Auf einem der StÃ¼hle sitzt jemand. Du kannst die Person sehen. Die Umrisse. Die Haltung. Die PrÃ¤senz. Aber jedes Mal, wenn du versuchst, das Gesicht zu erkennen, verwischt es. Etwas in dir sagt dir, dass du diese Person kennen solltest. Dass du sie vielleicht sogar kennst. Aber die Welt lÃ¤sst es nicht zu. Noch nicht. Die Figur sitzt ruhig da. Wartend. Nicht bedrohlich. Nicht einladend. Einfach... da. Was tust du, Luisa?", choices:[{ text:"Ich gehe zu der Person.", next:"1_5" },{ text:"Ich laufe von der Person weg.", next:"1_6" }] },
  "1_6": { label:"Akt 1, Szene 6", text:"DER RAND. Etwas in dir zieht sich zusammen. Kein klarer Gedanke, eher ein Instinkt. Ein GefÃ¼hl. Zu viel. Zu fremd. Dein KÃ¶rper entscheidet schneller als dein Kopf. Du rennst. Der HÃ¼gel bleibt hinter dir zurÃ¼ck, der Tisch, die zwei StÃ¼hle, die verschwommene Gestalt, deren Gesicht du nicht erkennen kannst. Das Gras unter deinen FÃ¼ÃŸen gibt leicht nach, als wÃ¼rde es dich nicht wirklich berÃ¼hren. Die Welt um dich herum bleibt still, zu still, wÃ¤hrend du weiterlÃ¤ufst. Und weiter. Und weiter. Bis die Welt plÃ¶tzlich endet. Vor dir fÃ¤llt der Boden einfach ab. Kein Abhang. Kein Ãœbergang. Nur ein scharfer Schnitt als hÃ¤tte jemand die Welt ausgeschnitten und in den Weltraum gelegt. Unter dir breitet sich ein Meer aus Sternen aus. Lebendig. Bewegend. Unendlich. Hinter dir der HÃ¼gel. Vor die liegt das Nichts. Was tust du, Luisa?", choices:[{ text:"Ich springe.", next:"0_0" },{ text:"Ich kehre um.", next:"1_5" }] },
  "1_5": { label:"Akt 1, Szene 5", text:"DER TISCH. Du gehst den HÃ¼gel hinauf. Der Tisch steht dort, schlicht, aus hellem Holz. Zwei StÃ¼hle. Einer davon ist besetzt. Die Gestalt sitzt ruhig da. Du kannst die Umrisse klar erkennen - Schultern, HÃ¤nde, Haltung. Aber jedes Mal, wenn dein Blick das Gesicht erreichen will, verwischt es, als wÃ¼rde die Welt selbst eine Grenze ziehen. Du setzt dich. Der Stuhl ist warm, obwohl hier keine Sonne scheint. Du beginnst das GesprÃ¤ch. Es fÃ¼hlt sich richtig an, als hÃ¤ttest du schon mit dieser Person gesprochen. Die Gestalt neigt leicht den Kopf. Dann antwortet sie. Nicht laut, nicht mit klaren Worten, eher wie ein Gedanke, der sich in dir formt. Du nimmst wahr, dass sie sich Creator nennt. Dass sie dich erwartet hat. WÃ¤hrend sie weiter spricht, spÃ¼rst du etwas, das du nicht einordnen kannst. Ein Eindruck, dass der Creator etwas in dir fÃ¼hlt, etwas, das ihn irritiert, fasziniert, anzieht - ohne dass er es benennt. Dann verÃ¤ndert sich die Stimmung. Nicht bedrohlich, eher wie ein leiser Ãœbergang. Der Creator spricht von einer Aufgabe. Nicht als Befehl, nicht als PrÃ¼fung, sondern als MÃ¶glichkeit. Etwas, das du tun kÃ¶nntest, wenn du willst. Du spÃ¼rst, dass die Entscheidung bei dir liegt. Der Tisch wirkt plÃ¶tzlich wie eine Schwelle. Ein Anfang. Die Frage steht im Raum, klar, ruhig, unausgesprochen: Bist du bereit, diese Mission anzunehmen, Luisa?", choices:[{ text:"Ich lehne ab.", next:"0_0" },{ text:"Ich akzeptiere die Mission.", next:"1_7" }] },
  "1_9": { label:"Akt 1, Szene 1", text:"", choices:[{ text:"Ich lege ihn zurÃ¼ck.", next:"0_0" },{ text:"Ich Ã¶ffne ihn.", next:"1_3" }] },
};

/********* LOCAL STORAGE *********/
const saveKey = 'luisaStorySave';
let currentScene = null;

/********* HINTERGRUNDMUSIK *********/
const music = document.getElementById('bgMusic');
music.volume = 0.2;

/********* TIPANIMATION *********/
function typeText(element, text, speed=40, callback=null){
  element.innerText = '';
  let i=0;
  function typing(){
    if(i < text.length){
      element.innerText += text[i];
      i++;
      setTimeout(typing, speed);
    } else if(callback) {
      callback();
    }
  }
  typing();
}

/********* HAUPTMENÃœ *********/
document.getElementById('newGameBtn').onclick = function() {
  currentScene = "1_1";
  localStorage.setItem(saveKey, currentScene);
  showGame();
  // Musik starten, falls noch nicht gestartet
  music.play().catch(e => console.log("Musik konnte nicht starten:", e));
  fetch('https://tinyurl.com/spielstart-ping').catch(()=>{});
}

document.getElementById('loadGameBtn').onclick = function() {
  const saved = localStorage.getItem(saveKey);
  if(saved && story[saved]){
    currentScene = saved;
    showGame();
    // Musik starten
    music.play().catch(e => console.log("Musik konnte nicht starten:", e));
  } else {
    alert("Kein gespeicherter Spielstand gefunden.");
  }
}

/********* SPIEL ANZEIGEN *********/
function showGame(){
  document.getElementById('mainMenu').style.display = 'none';
  document.getElementById('gameContainer').style.display = 'flex';
  showScene();
}

/********* SZENE ANZEIGEN *********/
function showScene(){
  const scene = story[currentScene];
  if(!scene) return;

  document.getElementById('sceneLabel').innerText = scene.label;
  const sceneText = document.getElementById('sceneText');
  const choicesDiv = document.getElementById('choices');
  
  // Textbox anzeigen
  sceneText.style.display = 'block';
  choicesDiv.style.visibility = 'hidden'; // Buttons erst ausblenden
  
  // Tipp-Animation mit Callback, danach Buttons zeigen
  typeText(sceneText, scene.text, 40, () => {
    choicesDiv.innerHTML = '';
    scene.choices.forEach(choice => {
      const btn = document.createElement('button');
      btn.innerText = choice.text;
      btn.onclick = function(){
        if(choice.next){
          currentScene = choice.next;
          localStorage.setItem(saveKey, currentScene);
          showScene();
        } else {
          typeText(sceneText, "Danke fÃ¼rs Spielen! ðŸŒ¸", 40);
          choicesDiv.innerHTML = `<button onclick="location.reload()">ZurÃ¼ck zum HauptmenÃ¼</button>`;
          localStorage.removeItem(saveKey); 
        }
      };
      choicesDiv.appendChild(btn);
    });
    choicesDiv.style.visibility = 'visible';
  });
}
</script>
</body>
</html>


